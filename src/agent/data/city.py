# name: city.py
# description: 处理用户输入的文本相关信息
# author: acxgdxy
# time: 2024/07/02
import re

# 中国主要城市及其全称列表
cities = {
    "北京": "北京市", "天津": "天津市", "上海": "上海市", "重庆": "重庆市",
    "石家庄": "石家庄市", "太原": "太原市", "沈阳": "沈阳市", "长春": "长春市", "哈尔滨": "哈尔滨市",
    "南京": "南京市", "杭州": "杭州市", "合肥": "合肥市", "福州": "福州市", "南昌": "南昌市",
    "济南": "济南市", "郑州": "郑州市", "武汉": "武汉市", "长沙": "长沙市", "广州": "广州市",
    "海口": "海口市", "成都": "成都市", "贵阳": "贵阳市", "昆明": "昆明市", "西安": "西安市",
    "兰州": "兰州市", "西宁": "西宁市", "台北": "台北市", "呼和浩特": "呼和浩特市", "南宁": "南宁市",
    "拉萨": "拉萨市", "银川": "银川市", "乌鲁木齐": "乌鲁木齐市", "香港": "香港特别行政区", "澳门": "澳门特别行政区",
    "深圳": "深圳市", "珠海": "珠海市", "汕头": "汕头市", "佛山": "佛山市", "韶关": "韶关市",
    "湛江": "湛江市", "肇庆": "肇庆市", "江门": "江门市", "茂名": "茂名市", "惠州": "惠州市",
    "梅州": "梅州市", "汕尾": "汕尾市", "河源": "河源市", "阳江": "阳江市", "清远": "清远市",
    "东莞": "东莞市", "中山": "中山市", "潮州": "潮州市", "揭阳": "揭阳市", "云浮": "云浮市",
    "大连": "大连市", "鞍山": "鞍山市", "抚顺": "抚顺市", "本溪": "本溪市", "丹东": "丹东市",
    "锦州": "锦州市", "营口": "营口市", "阜新": "阜新市", "辽阳": "辽阳市", "盘锦": "盘锦市",
    "铁岭": "铁岭市", "朝阳": "朝阳市", "葫芦岛": "葫芦岛市", "长治": "长治市", "晋城": "晋城市",
    "阳泉": "阳泉市", "朔州": "朔州市", "晋中": "晋中市", "运城": "运城市", "忻州": "忻州市",
    "临汾": "临汾市", "吕梁": "吕梁市", "保定": "保定市", "唐山": "唐山市", "秦皇岛": "秦皇岛市",
    "邯郸": "邯郸市", "邢台": "邢台市", "张家口": "张家口市", "承德": "承德市", "沧州": "沧州市",
    "廊坊": "廊坊市", "衡水": "衡水市", "无锡": "无锡市", "徐州": "徐州市", "常州": "常州市",
    "苏州": "苏州市", "南通": "南通市", "连云港": "连云港市", "淮安": "淮安市", "盐城": "盐城市",
    "扬州": "扬州市", "镇江": "镇江市", "泰州": "泰州市", "宿迁": "宿迁市", "宁波": "宁波市",
    "温州": "温州市", "嘉兴": "嘉兴市", "湖州": "湖州市", "绍兴": "绍兴市", "金华": "金华市",
    "衢州": "衢州市", "舟山": "舟山市", "台州": "台州市", "丽水": "丽水市", "芜湖": "芜湖市",
    "蚌埠": "蚌埠市", "淮南": "淮南市", "马鞍山": "马鞍山市", "淮北": "淮北市", "铜陵": "铜陵市",
    "安庆": "安庆市", "黄山": "黄山市", "滁州": "滁州市", "阜阳": "阜阳市", "宿州": "宿州市",
    "巢湖": "巢湖市", "六安": "六安市", "亳州": "亳州市", "池州": "池州市", "宣城": "宣城市",
    "漳州": "漳州市", "泉州": "泉州市", "三明": "三明市", "南平": "南平市", "龙岩": "龙岩市",
    "宁德": "宁德市", "景德镇": "景德镇市", "萍乡": "萍乡市", "新余": "新余市", "鹰潭": "鹰潭市",
    "赣州": "赣州市", "吉安": "吉安市", "宜春": "宜春市", "抚州": "抚州市", "上饶": "上饶市",
    "洛阳": "洛阳市", "平顶山": "平顶山市", "安阳": "安阳市", "鹤壁": "鹤壁市", "新乡": "新乡市",
    "焦作": "焦作市", "濮阳": "濮阳市", "许昌": "许昌市", "漯河": "漯河市", "三门峡": "三门峡市",
    "商丘": "商丘市", "周口": "周口市", "驻马店": "驻马店市", "黄石": "黄石市", "十堰": "十堰市",
    "荆州": "荆州市", "宜昌": "宜昌市", "襄阳": "襄阳市", "鄂州": "鄂州市", "荆门": "荆门市",
    "孝感": "孝感市", "黄冈": "黄冈市", "咸宁": "咸宁市", "随州": "随州市", "恩施": "恩施土家族苗族自治州",
    "岳阳": "岳阳市", "常德": "常德市", "张家界": "张家界市", "益阳": "益阳市", "郴州": "郴州市",
    "永州": "永州市", "怀化": "怀化市", "娄底": "娄底市", "湘西": "湘西土家族苗族自治州", "韶关": "韶关市",
    "茂名": "茂名市", "肇庆": "肇庆市", "惠州": "惠州市", "梅州": "梅州市", "汕尾": "汕尾市",
    "河源": "河源市", "阳江": "阳江市", "清远": "清远市", "东莞": "东莞市", "中山": "中山市",
    "潮州": "潮州市", "揭阳": "揭阳市", "云浮": "云浮市", "柳州": "柳州市", "桂林": "桂林市",
    "梧州": "梧州市", "北海": "北海市", "防城港": "防城港市", "钦州": "钦州市", "贵港": "贵港市",
    "玉林": "玉林市", "百色": "百色市", "贺州": "贺州市", "河池": "河池市", "来宾": "来宾市",
    "崇左": "崇左市", "自贡": "自贡市", "攀枝花": "攀枝花市", "泸州": "泸州市", "德阳": "德阳市",
    "绵阳": "绵阳市", "广元": "广元市", "遂宁": "遂宁市", "内江": "内江市", "乐山": "乐山市",
    "南充": "南充市", "眉山": "眉山市", "宜宾": "宜宾市", "广安": "广安市", "达州": "达州市",
    "雅安": "雅安市", "巴中": "巴中市", "资阳": "资阳市", "阿坝": "阿坝藏族羌族自治州", "甘孜": "甘孜藏族自治州",
    "凉山": "凉山彝族自治州", "六盘水": "六盘水市", "遵义": "遵义市", "安顺": "安顺市", "毕节": "毕节市",
    "铜仁": "铜仁市", "黔西南": "黔西南布依族苗族自治州", "黔东南": "黔东南苗族侗族自治州",
    "黔南": "黔南布依族苗族自治州",
    "曲靖": "曲靖市", "玉溪": "玉溪市", "保山": "保山市", "昭通": "昭通市", "丽江": "丽江市",
    "普洱": "普洱市", "临沧": "临沧市", "楚雄": "楚雄彝族自治州", "红河": "红河哈尼族彝族自治州",
    "文山": "文山壮族苗族自治州",
    "西双版纳": "西双版纳傣族自治州", "大理": "大理白族自治州", "德宏": "德宏傣族景颇族自治州",
    "怒江": "怒江傈僳族自治州",
    "迪庆": "迪庆藏族自治州", "铜川": "铜川市", "宝鸡": "宝鸡市", "咸阳": "咸阳市", "渭南": "渭南市",
    "延安": "延安市", "汉中": "汉中市", "榆林": "榆林市", "安康": "安康市", "商洛": "商洛市",
    "金昌": "金昌市", "白银": "白银市", "天水": "天水市", "武威": "武威市", "张掖": "张掖市",
    "平凉": "平凉市", "酒泉": "酒泉市", "庆阳": "庆阳市", "定西": "定西市", "陇南": "陇南市",
    "临夏": "临夏回族自治州", "甘南": "甘南藏族自治州", "海东": "海东市", "海北": "海北藏族自治州",
    "黄南": "黄南藏族自治州",
    "海南": "海南藏族自治州", "果洛": "果洛藏族自治州", "玉树": "玉树藏族自治州", "海西": "海西蒙古族藏族自治州",
    "日喀则": "日喀则市", "昌都": "昌都市", "山南": "山南市", "那曲": "那曲市", "阿里": "阿里地区",
    "林芝": "林芝市", "吐鲁番": "吐鲁番市", "哈密": "哈密市", "克拉玛依": "克拉玛依市", "阿拉尔": "阿拉尔市",
    "图木舒克": "图木舒克市", "五家渠": "五家渠市", "铁门关": "铁门关市", "伊犁": "伊犁哈萨克自治州",
    "塔城": "塔城地区",
    "阿勒泰": "阿勒泰地区", "石河子": "石河子市", "昌吉": "昌吉回族自治州", "博尔塔拉": "博尔塔拉蒙古自治州",
    "巴音郭楞": "巴音郭楞蒙古自治州",
    "克孜勒苏": "克孜勒苏柯尔克孜自治州", "喀什": "喀什地区", "和田": "和田地区"
}

# 将城市名转换为正则表达式
city_pattern = re.compile("|".join(cities.keys()))


class CityData:
    def __init__(self):
        pass

    def replace_city(self, text):
        def replace_match(match):
            city = match.group(0)
            full_name = cities[city]
            # 如果匹配到的城市名后面没有正确的后缀，则添加后缀
            if not text[text.index(city) + len(city):].startswith(full_name[len(city):]):
                return full_name
            return city

        # 使用正则表达式进行替换
        result = city_pattern.sub(replace_match, text)
        return result


if __name__ == '__main__':
    # 测试文本
    text = "我最近去了北京和长沙，还计划去上海和广州。呼和浩特是一个美丽的地方。"
    # 调用函数
    city_data = CityData()
    result = city_data.replace_city(text)
    print(result)
